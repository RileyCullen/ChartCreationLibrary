{"ast":null,"code":"// Cullen, Riley\n// RemainderDecorator.js\n// October 10, 2020\nimport { ABarChartDecorator } from \"./ABarChartDecorator\";\nimport Konva from 'konva';\n\nclass RemainderDecorator extends ABarChartDecorator {\n  /**\n   * @summary     A decorator type that fills in the remainder of space for\n   *              each of the bars.\n   * @description See summary. Essentially, if a bar takes up 50% of the given\n   *              space, then this class will create bars to fill in the remainder\n   *              of that space. This is dynamic and only needs to be declared \n   *              once for each bar chart (rather than multiple times for each\n   *              bar within a chart).\n   * \n   * @requires ABarChart.js\n   * \n   * @param {BarChart} chart    See ABarChartDecorator\n   * @param {string}   barColor Color of 'remainder' bars\n   */\n  constructor({\n    chart,\n    barColor = '#808080'\n  }) {\n    super(chart);\n    this._barColor = barColor;\n  }\n  /**\n   * @summary     This function fills in the remainder of space within a \n   *              bar chart.\n   * @description This function fills in the remainder of space within a bar\n   *              chart by calling the _chart's CreateBarChart function \n   *              as well as _DrawBars.\n   */\n\n\n  CreateChart() {\n    this._chart.CreateChart();\n\n    this._DrawBars();\n  }\n\n  GetDecoratorSettings() {\n    return {\n      remainder: {\n        color: {\n          barColor: this._barColor\n        }\n      }\n    };\n  }\n  /**\n   * @summary     This function draws the remainder bars.\n   * @description This function iterates through all of the data elements \n   *              in _data and uses that data to draw the remainder bars.\n   */\n\n\n  _DrawBars() {\n    var helper = new Konva.Group();\n\n    this._data.forEach(d => {\n      helper.add(new Konva.Rect({\n        x: this._xScale(d.category),\n        y: this._yScale(d.value),\n        width: this._xScale.bandwidth(),\n        height: -this._yScale(d.value),\n        fill: this._barColor\n      }));\n    });\n\n    this._group.add(helper);\n\n    helper.moveToBottom();\n    helper.rotate(this._rotateBy);\n  }\n\n}\n\nexport { RemainderDecorator };","map":{"version":3,"sources":["/Users/mialee/Documents/GitHub/ShareNWWebtool/src/js/Charts/BarChart/Decorators/RemainderDecorator.js"],"names":["ABarChartDecorator","Konva","RemainderDecorator","constructor","chart","barColor","_barColor","CreateChart","_chart","_DrawBars","GetDecoratorSettings","remainder","color","helper","Group","_data","forEach","d","add","Rect","x","_xScale","category","y","_yScale","value","width","bandwidth","height","fill","_group","moveToBottom","rotate","_rotateBy"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,kBAAT,QAAmC,sBAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,kBAAN,SAAiCF,kBAAjC,CACA;AACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEIG,EAAAA,WAAW,CAAC;AAACC,IAAAA,KAAD;AAAQC,IAAAA,QAAQ,GAAG;AAAnB,GAAD,EACX;AACI,UAAMD,KAAN;AACA,SAAKE,SAAL,GAAiBD,QAAjB;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACIE,EAAAA,WAAW,GACX;AACI,SAAKC,MAAL,CAAYD,WAAZ;;AACA,SAAKE,SAAL;AACH;;AAEDC,EAAAA,oBAAoB,GACpB;AACI,WAAO;AACHC,MAAAA,SAAS,EAAE;AACPC,QAAAA,KAAK,EAAE;AACHP,UAAAA,QAAQ,EAAE,KAAKC;AADZ;AADA;AADR,KAAP;AAOH;AAED;AACJ;AACA;AACA;AACA;;;AACIG,EAAAA,SAAS,GACT;AACI,QAAII,MAAM,GAAG,IAAIZ,KAAK,CAACa,KAAV,EAAb;;AACA,SAAKC,KAAL,CAAWC,OAAX,CAAmBC,CAAC,IAAI;AACpBJ,MAAAA,MAAM,CAACK,GAAP,CAAW,IAAIjB,KAAK,CAACkB,IAAV,CAAe;AACtBC,QAAAA,CAAC,EAAE,KAAKC,OAAL,CAAaJ,CAAC,CAACK,QAAf,CADmB;AAEtBC,QAAAA,CAAC,EAAE,KAAKC,OAAL,CAAaP,CAAC,CAACQ,KAAf,CAFmB;AAGtBC,QAAAA,KAAK,EAAE,KAAKL,OAAL,CAAaM,SAAb,EAHe;AAItBC,QAAAA,MAAM,EAAE,CAAE,KAAKJ,OAAL,CAAaP,CAAC,CAACQ,KAAf,CAJY;AAKtBI,QAAAA,IAAI,EAAE,KAAKvB;AALW,OAAf,CAAX;AAOH,KARD;;AASA,SAAKwB,MAAL,CAAYZ,GAAZ,CAAgBL,MAAhB;;AACAA,IAAAA,MAAM,CAACkB,YAAP;AACAlB,IAAAA,MAAM,CAACmB,MAAP,CAAc,KAAKC,SAAnB;AACH;;AAlEL;;AAqEA,SAAS/B,kBAAT","sourcesContent":["// Cullen, Riley\n// RemainderDecorator.js\n// October 10, 2020\n\nimport { ABarChartDecorator } from \"./ABarChartDecorator\";\nimport Konva from 'konva';\n\nclass RemainderDecorator extends ABarChartDecorator \n{\n    /**\n     * @summary     A decorator type that fills in the remainder of space for\n     *              each of the bars.\n     * @description See summary. Essentially, if a bar takes up 50% of the given\n     *              space, then this class will create bars to fill in the remainder\n     *              of that space. This is dynamic and only needs to be declared \n     *              once for each bar chart (rather than multiple times for each\n     *              bar within a chart).\n     * \n     * @requires ABarChart.js\n     * \n     * @param {BarChart} chart    See ABarChartDecorator\n     * @param {string}   barColor Color of 'remainder' bars\n     */\n\n    constructor({chart, barColor = '#808080'}) \n    {\n        super(chart);\n        this._barColor = barColor;\n    }\n\n    /**\n     * @summary     This function fills in the remainder of space within a \n     *              bar chart.\n     * @description This function fills in the remainder of space within a bar\n     *              chart by calling the _chart's CreateBarChart function \n     *              as well as _DrawBars.\n     */\n    CreateChart()\n    {\n        this._chart.CreateChart();\n        this._DrawBars();\n    }\n\n    GetDecoratorSettings()\n    {\n        return {\n            remainder: {\n                color: {\n                    barColor: this._barColor\n                }\n            }\n        }\n    }\n\n    /**\n     * @summary     This function draws the remainder bars.\n     * @description This function iterates through all of the data elements \n     *              in _data and uses that data to draw the remainder bars.\n     */\n    _DrawBars()\n    {\n        var helper = new Konva.Group();\n        this._data.forEach(d => {\n            helper.add(new Konva.Rect({\n                x: this._xScale(d.category),\n                y: this._yScale(d.value),\n                width: this._xScale.bandwidth(),\n                height: -(this._yScale(d.value)),\n                fill: this._barColor,\n            }));\n        });\n        this._group.add(helper);\n        helper.moveToBottom();\n        helper.rotate(this._rotateBy);\n    }\n}\n\nexport { RemainderDecorator };"]},"metadata":{},"sourceType":"module"}