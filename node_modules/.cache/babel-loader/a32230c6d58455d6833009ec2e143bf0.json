{"ast":null,"code":"// Cullen, Riley\n// December 21, 2020\n// MessageBubble.js\nimport Konva from 'konva';\n\nclass MessageBubble {\n  /**\n   * @summary     Creates a message bubble in KonvaJS.\n   * @description Constructs a message bubble using the various shapes defined\n   *              in the KonvaJS library.\n   * \n   * @requires Konva.JS\n   * \n   * @param {Konva.Group} group  The group associated with the message bubble.\n   * @param {double}      width  The width of the message bubble.\n   * @param {double}      height The height of the message bubble.\n   * @param {string}      color  The color of the message bubble.\n   */\n  constructor(group, width, height, color, x, y) {\n    this._group = group;\n    this._width = width;\n    this._height = height;\n    this._color = color;\n    this._x = x;\n    this._y = y;\n  }\n  /**\n   * @summary     Creates the message bubble at coordinates (x, y). \n   * @description Adds a Konva.Rect and Konva.Line object to the group specified\n   *              in the constructor. Note that the rectangle is aligned at \n   *              (x, y) while the triangle like object created using the Konva\n   *              .Line class is dynamically placed.\n   * \n   * @param {double} x The x coordinate we want to place our message bubble at.\n   * @param {double} y The y coordinate we want to place our message bubble at.\n   */\n\n\n  CreateHeader() {\n    var helper = new Konva.Group(),\n        x = this._x,\n        y = this._y;\n\n    this._group.add(helper);\n\n    helper.add(new Konva.Rect({\n      x: x,\n      y: y,\n      width: this._width,\n      height: this._height,\n      fill: this._color\n    }));\n    var triangleOffset = 5;\n    var x1 = x + triangleOffset,\n        x2 = x1 - this._width / 10,\n        x3 = x + triangleOffset;\n    var y1 = y + 3 / 5 * this._height + 5,\n        y2 = y1 + this._height / 6,\n        y3 = y + 8.5 / 10 * this._height + 5;\n    helper.add(new Konva.Line({\n      fill: this._color,\n      points: [x1, y1, x2, y2, x3, y3, x1, y1],\n      closed: true\n    }));\n  }\n\n  Remove() {\n    this._group.destroy();\n  }\n\n  UpdateHeader(settings) {\n    this._width = parseFloat(settings.size.width);\n    this._height = parseFloat(settings.size.height);\n    this._color = settings.display.fill.value;\n\n    this._group.destroyChildren();\n  }\n\n  GetSettings() {\n    return {\n      size: {\n        width: this._width,\n        height: this._height\n      },\n      display: {\n        fill: {\n          type: 'color-picker',\n          name: 'Fill:',\n          value: this._color\n        }\n      }\n    };\n  }\n\n  GetAttrs() {\n    return {\n      x: this._x,\n      y: this._y,\n      width: this._width,\n      height: this._height,\n      group: this._group,\n      color: this._color\n    };\n  }\n\n}\n\nexport { MessageBubble };","map":{"version":3,"sources":["/Users/mialee/Documents/GitHub/ShareNWWebtool/src/js/ToolTips/MessageBubble.js"],"names":["Konva","MessageBubble","constructor","group","width","height","color","x","y","_group","_width","_height","_color","_x","_y","CreateHeader","helper","Group","add","Rect","fill","triangleOffset","x1","x2","x3","y1","y2","y3","Line","points","closed","Remove","destroy","UpdateHeader","settings","parseFloat","size","display","value","destroyChildren","GetSettings","type","name","GetAttrs"],"mappings":"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","sourcesContent":["// Cullen, Riley\n// December 21, 2020\n// MessageBubble.js\n\nimport Konva from 'konva';\n\nclass MessageBubble \n{\n    /**\n     * @summary     Creates a message bubble in KonvaJS.\n     * @description Constructs a message bubble using the various shapes defined\n     *              in the KonvaJS library.\n     * \n     * @requires Konva.JS\n     * \n     * @param {Konva.Group} group  The group associated with the message bubble.\n     * @param {double}      width  The width of the message bubble.\n     * @param {double}      height The height of the message bubble.\n     * @param {string}      color  The color of the message bubble.\n     */\n    constructor(group, width, height, color, x, y)\n    {\n        this._group = group;\n        this._width = width;\n        this._height = height;\n        this._color = color;\n        this._x = x;\n        this._y = y;\n    }\n\n    /**\n     * @summary     Creates the message bubble at coordinates (x, y). \n     * @description Adds a Konva.Rect and Konva.Line object to the group specified\n     *              in the constructor. Note that the rectangle is aligned at \n     *              (x, y) while the triangle like object created using the Konva\n     *              .Line class is dynamically placed.\n     * \n     * @param {double} x The x coordinate we want to place our message bubble at.\n     * @param {double} y The y coordinate we want to place our message bubble at.\n     */\n    CreateHeader()\n    {\n        var helper = new Konva.Group(), x = this._x, y = this._y;\n        this._group.add(helper);\n\n        helper.add(new Konva.Rect({\n            x: x,\n            y: y,\n            width: this._width,\n            height: this._height,\n            fill: this._color,\n        }));\n\n        var triangleOffset = 5;\n        var x1 = x + triangleOffset, x2 = x1 - (this._width / 10), x3 = x + triangleOffset;\n        var y1 = y + (3 / 5) * this._height + 5, y2 = y1 + (this._height / 6),\n            y3 = y + (8.5 / 10) * this._height + 5;\n\n        helper.add(new Konva.Line({\n            fill: this._color,\n            points: [x1, y1, x2, y2, x3, y3, x1, y1],\n            closed: true\n        }));\n    }\n\n    Remove()\n    {\n        this._group.destroy();\n    }\n\n    UpdateHeader(settings)\n    {\n        this._width = parseFloat(settings.size.width);\n        this._height = parseFloat(settings.size.height);\n\n        this._color = settings.display.fill.value;\n\n        this._group.destroyChildren();\n    }\n\n    GetSettings()\n    {\n        return {\n            size: {\n                width: this._width,\n                height: this._height,\n            },\n            display: {\n                fill: {\n                    type: 'color-picker',\n                    name: 'Fill:',\n                    value: this._color,\n                },\n            }\n        }\n    }\n\n    GetAttrs()\n    {\n        return {\n            x: this._x,\n            y: this._y,\n            width: this._width,\n            height: this._height,\n            group: this._group,\n            color: this._color,\n        }\n    }\n}\n\nexport { MessageBubble };"]},"metadata":{},"sourceType":"module"}